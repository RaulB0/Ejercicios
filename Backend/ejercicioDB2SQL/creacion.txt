CREATE DATABASE PRACTICA ON C USING CODESET 1252 TERRITORY ES COLLATE USING SYSTEM PAGESIZE 4096;

CONNECT TO PRACTICA;

CREATE TABLE CATEGORIA
(
CODIGO     INT NOT NULL,
NOMBRE     VARCHAR (20) DEFAULT '',
CONSTRAINT PK_CODIGO_CATEGORY PRIMARY KEY (CODIGO)
);

CREATE TABLE COLORES
(
CODIGO     INT NOT NULL,
NOMBRE     VARCHAR (20) DEFAULT '',
CONSTRAINT PK_CODIGO_COLORES PRIMARY KEY (CODIGO)

);

CREATE TABLE PRODUCTO
(
CODIGO     INT NOT NULL,
NOMBRE     VARCHAR (20) DEFAULT '',
COLOR      INT DEFAULT 0,
FECHA_CREACION  DATE DEFAULT CURRENT_DATE,
CONSTRAINT PK_CODIGO_PRODUCTO PRIMARY KEY (CODIGO),
CONSTRAINT FK_COLOR FOREIGN KEY (COLOR) REFERENCES COLORES(CODIGO)
ON DELETE SET NULL
);

CREATE TABLE PRODUCTO_CATEGORIA
(
CODIGO_PRODUCTO     INT NOT NULL,
CODIGO_CATEGORIA     INT NOT NULL,
CONSTRAINT PK_CODIGO_PRODUCTO_CATEGORY PRIMARY KEY (CODIGO_PRODUCTO,CODIGO_CATEGORIA),
CONSTRAINT FK_CODIGO_PRODUCTO FOREIGN KEY (CODIGO_PRODUCTO) REFERENCES PRODUCTO(CODIGO)
ON DELETE CASCADE,
CONSTRAINT FK_CODIGO_CATEGORIA FOREIGN KEY (CODIGO_CATEGORIA) REFERENCES CATEGORIA(CODIGO)
ON DELETE CASCADE
);

INSERT INTO CATEGORIA (CODIGO,NOMBRE) VALUES(1,'INFORMATICA');
INSERT INTO CATEGORIA (CODIGO,NOMBRE) VALUES(2,'SONIDO');
INSERT INTO CATEGORIA (CODIGO,NOMBRE) VALUES(3,'ILUMINACION');

INSERT INTO COLORES (CODIGO,NOMBRE) VALUES(1,'ROJO');
INSERT INTO COLORES (CODIGO,NOMBRE) VALUES(2,'AZUL');
INSERT INTO COLORES (CODIGO,NOMBRE) VALUES(3,'NEGRO');
INSERT INTO COLORES (CODIGO,NOMBRE) VALUES(4,'BLANCO');
INSERT INTO COLORES (CODIGO,NOMBRE) VALUES(5,'VERDE');

INSERT INTO PRODUCTO (CODIGO,NOMBRE,COLOR) VALUES(1,'ORDENADOR',3);
INSERT INTO PRODUCTO (CODIGO,NOMBRE,COLOR) VALUES(2,'IMPRESORA',4);
INSERT INTO PRODUCTO (CODIGO,NOMBRE,COLOR) VALUES(3,'RATON',3);
INSERT INTO PRODUCTO (CODIGO,NOMBRE,COLOR) VALUES(4,'TECLADO',3);
INSERT INTO PRODUCTO (CODIGO,NOMBRE,COLOR) VALUES(5,'ALTAVOZ PC',5);
INSERT INTO PRODUCTO (CODIGO,NOMBRE,COLOR) VALUES(6,'RADIO',2);
INSERT INTO PRODUCTO (CODIGO,NOMBRE,COLOR) VALUES(7,'MP3',1);
INSERT INTO PRODUCTO (CODIGO,NOMBRE,COLOR) VALUES(8,'LAMPARA',1);
INSERT INTO PRODUCTO (CODIGO,NOMBRE,COLOR) VALUES(9,'BOMBILLA',4);
INSERT INTO PRODUCTO (CODIGO,NOMBRE,COLOR) VALUES(10,'LED',4);

INSERT INTO PRODUCTO_CATEGORIA (CODIGO_PRODUCTO,CODIGO_CATEGORIA) VALUES(1,1);
INSERT INTO PRODUCTO_CATEGORIA (CODIGO_PRODUCTO,CODIGO_CATEGORIA) VALUES(2,1);
INSERT INTO PRODUCTO_CATEGORIA (CODIGO_PRODUCTO,CODIGO_CATEGORIA) VALUES(3,1);
INSERT INTO PRODUCTO_CATEGORIA (CODIGO_PRODUCTO,CODIGO_CATEGORIA) VALUES(4,1);
INSERT INTO PRODUCTO_CATEGORIA (CODIGO_PRODUCTO,CODIGO_CATEGORIA) VALUES(5,1);
INSERT INTO PRODUCTO_CATEGORIA (CODIGO_PRODUCTO,CODIGO_CATEGORIA) VALUES(5,2);
INSERT INTO PRODUCTO_CATEGORIA (CODIGO_PRODUCTO,CODIGO_CATEGORIA) VALUES(6,2);
INSERT INTO PRODUCTO_CATEGORIA (CODIGO_PRODUCTO,CODIGO_CATEGORIA) VALUES(7,2);
INSERT INTO PRODUCTO_CATEGORIA (CODIGO_PRODUCTO,CODIGO_CATEGORIA) VALUES(8,3);
INSERT INTO PRODUCTO_CATEGORIA (CODIGO_PRODUCTO,CODIGO_CATEGORIA) VALUES(9,3);
INSERT INTO PRODUCTO_CATEGORIA (CODIGO_PRODUCTO,CODIGO_CATEGORIA) VALUES(10,3);


CONNECT RESET;